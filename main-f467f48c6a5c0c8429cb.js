(()=>{"use strict";const e=document.querySelector.bind(document),t=e(".notification");class n{constructor(){}sumLetter(e){return e.reduce(((e,t)=>e+t),0)}copyOnClick(t){const n=document.createElement("textarea");e("body").appendChild(n),n.innerHTML=t.replace(/<br\s*[\/]?>/gi,"\r\n"),n.select(),document.execCommand("copy"),e("body").removeChild(n)}countWords(e){return e.split(" ").filter((e=>""!==e)).length}showNotificationOnCopy(){t.classList.add("active"),setTimeout((()=>{t.classList.remove("active")}),1e3)}showNotificationChangeMode(t){e("body").insertAdjacentHTML("beforeend",'<div class="notification-change">');const n=e(".notification-change");n.innerHTML=`\n        <div class="container">\n    \n        <div class="icon">\n    \n        </div>\n        <div class="content">\n            <h3>${t?"Auto":"Custom"} mode</h3>\n            <p>${t?"You don't need to do anything now. It's automatically":" On this mode you can use <strong>\\</strong> to break follow your own."}</p>\n        </div>\n        <div class="close">&#43;</div>`,setTimeout((()=>{n.classList.add("active")}),0),setTimeout((()=>{n.remove()}),5e3)}}const s=document.querySelector.bind(document),o=new n;class i{constructor(e){this.limitLetter=e}showCountBreakLine(e,t){let n=s(".count-break-line");n&&n.remove(),e.insertAdjacentHTML("beforebegin",`\n        <span class="count-break-line">${t} break line.</span>`)}autoMode(e){let t=[],n=e.split(" ").filter((e=>""!==e));if(n){for(;n.length>0;){let e=this.autoBreak(n);t.push(e),n.splice(0,o.sumLetter(this.limitLetter))}return t}console.error("Something was wrong.")}autoBreak(e){let[t,n]=this.limitLetter,s=t,o=t+n;return`${e.slice(0,s).join(" ").trim()}<br/>${e.slice(s,o).join(" ").trim()}`}customMode(e){return e.split("\\").filter((e=>""!==e)).map((e=>{const t=e.split(" ").filter((e=>""!==e)),n=(t.length,Math.floor(t.length/2)),s=t.length;return`${t.slice(0,n).join(" ").trim()}<br/>${t.slice(n,s).join(" ").trim()}`}))}}const r=document.querySelector.bind(document),a=function(){const e=r(".btn-submit"),t=r(".submit-input"),s=r(".results"),o=r(".box-input"),a=r(".btn-clear"),c=r(".btn-close"),l=r(".btn-action"),u=r(".number-words .value"),d=new i([8,10]),m=new n,h={isCustom:!1,isBreak:!1,countBreakLine:0,handleEvents(){const n=this;e.addEventListener("click",(e=>{e.preventDefault();let o=t.value.trim(),i=n.handleText(o,n.isCustom);n.array.splice(0,n.array.length),n.array.push(...i),n.countBreakLine=i.length,d.showCountBreakLine(s,n.countBreakLine),n.render(n.array),n.array.length>5&&n.scaleElm()})),s.onclick=e=>{const t=e.target.closest("code"),s=+t.dataset.index;m.copyOnClick(n.array[s]),t.classList.add("copied"),m.showNotificationOnCopy()},t.onfocus=()=>{n.isBreak&&o.classList.remove("sm-w")},t.oninput=()=>{let e=m.countWords(t.value);u.innerText=e},a.addEventListener("click",(()=>{t.value="",n.array.splice(0,n.array.length),s.innerHTML="",u.innerText="0",r(".count-break-line").remove(),n.isBreak=!1,o.classList.remove("sm-w")})),c.onclick=function(){s.classList.remove("active"),n.array.splice(0,n.array.length),s.innerHTML=""},l.onclick=function(e){const t=e.target.closest(".btn"),s=l.querySelector(".active");if(t){const e=t.dataset.action.toLowerCase();s.classList.remove("active"),t.classList.add("active"),m.showNotificationChangeMode(n.isCustom),n.isCustom="custom"==e,window.localStorage.setItem("isCustom",n.isCustom)}}},handleText(e,t){return e?t?d.customMode(e):d.autoMode(e):(this.isBreak=!1,void alert("Please enter your text."))},scaleElm(){const e=!!t.value;this.isBreak&&o.classList.toggle("sm-w",e)},render(e){const t=e.map(((e,t)=>`<code class="border-radius break-line transition" data-index="${t}">${e}</code>`));s.innerHTML=t.join(""),s.classList.add("active"),this.isBreak=!0},defineProperties(){Object.defineProperty(this,"array",{value:[]})}};return{start(){h.handleEvents(),h.defineProperties()},setIsCustom(e){h.isCustom=e}}}();window.onload=()=>{let e="true"===window.localStorage.getItem("isCustom");a.setIsCustom(e);let t=e?".btn-custom":".btn-auto";setTimeout((()=>{r(t).classList.add("active")}),0)},a.start()})();